<!--
* @file index.html
* @author Ali Sarrafi
*
* Template application that provides Native UI functionality from
* HTML5 aand JavaScript.
*
* The entire UI and application logic can be implemented
* in JavaScript.
* Please refer to the Wiki Page for more documentation
-->

<!DOCTYPE html>

<html>

<head>

<!-- Import Wormhole Library. -->
<script src="js/wormhole-nativeui.js"></script>

<script src="js/main.js"></script>

<script language="JavaScript">
	/**
	* Handles key press events,
	* Refer to Mosync documentation for key code details
	*/
	function close()
	{
		//Close the Application if the Back key is pressed
		mosync.bridge.send([
				"close"
			], null);
	}

	/**
	* Handles events generated by the button.
	* See the markup for more usage
	* Two Extra parameters are passed to event handlers
	* - WidgetHandle MoSync handle for the widget
	* - eventType type of the event triggered
	*/
	function handleButtonEvent(message) {
		console.log('You Clicked the Button');
	}

	var numclicked = 0;

	/**
	* A simple function that updateds a label on screen
	*/
	function changeLabel()
	{
			var myLabel = document.getNativeElementById("myLabel");

			//set the text property of our label.
			myLabel.setProperty(
					"text",
					"No. of Clicks: " + (++numclicked));
	}

	/**
	* Event comming from the library indicating the UI is ready to be shown
	* We override the default operation of the library to add some new functionality.
	*/
	mosync.nativeui.UIReady = function()
	{
		document.addEventListener("deviceready", onDeviceReady, true);

		//First get an instance of the scree nwe want to show
		var mainScreen = document.getNativeElementById("mainScreen");
		//show the screen
		mainScreen.show();
	}

	/**
	* Initialize the mosync.nativeui System
	*/
	function initialize()
	{
		document.addEventListener("backbutton", close, true);
		mosync.nativeui.initUI();
	}
</script>

</head>

<body  onload="initialize()">
	<!-- All of the mosync.nativeui widgets should be wraped inside a tag with id="mosync.nativeui" -->
	<div id="NativeUI">
		<!-- the element with id="mainScreen" is loaded to the device screen  by default -->
		<div widgetType="TabScreen" id="mainScreen">
			<div widgetType="Screen" id="firstScreen" title="Device" icon_iOS="img/TabIconDevice.png">
				<div widgetType="VerticalLayout" id="DeviceInfoLayout" width="100%" height="100%">
					<div widgetType="Label" id="DeviceOSLabel" width="100%" text="Platform:" fontSize="19" fontColor="0xEE3B3B"></div>
					<div widgetType="Label" id="OSVersionLabel" width="100%" text="OSVersion:" fontSize="19" fontColor="0xEE3B3B"></div>
					<div widgetType="Label" id="UUIDLabel" width="100%" text="UUID:" fontSize="19" fontColor="0xEE3B3B"></div>
					<div widgetType="Label" id="DeviceNameLabel" width="100%" text="Device Name:" fontSize="19" fontColor="0xEE3B3B"></div>
					<div widgetType="Button" id="VibrateButton" width="100%" text="Vibrate" onevent="navigator.notification.vibrate(1000);" ></div>
					<div widgetType="Button" id="BeepButton" width="100%" text="Beep" onevent="navigator.notification.beep(3);" ></div>
				</div>
			</div>
			<div widgetType="Screen" id="SecondScreen" title="Sensors" icon_iOS="img/TabIconSensor.png">
				<div widgetType="VerticalLayout" id="SensorsLayout" width="100%">
					<div widgetType="HorizontalLayout" id="AccelerometerLayout" width="100%" height="-2">
						<div widgetType="Label" id="AccelX" width="100%" text="x: " fontSize="14" fontColor="0xEE3B3B"></div>
						<div widgetType="Label" id="AccelY" width="100%" text="y: " fontSize="14" fontColor="0xEE3B3B"></div>
						<div widgetType="Label" id="AccelZ" width="100%" text="z: " fontSize="14" fontColor="0xEE3B3B"></div>
					</div>
					<div widgetType="Button" id="ToggleAccelButton" width="100%" text="Toggle Accelerometer" onevent="toggleAccelPhonegap()"></div>

					<div widgetType="HorizontalLayout" id="LocationLayout" width="100%">
						<div widgetType="Label" id="LocLat" width="100%" text="Latitude" fontSize="14" fontColor="0xEE3B3B"></div>
						<div widgetType="Label" id="LocLong" width="100%" text="Longtitude" fontSize="14" fontColor="0xEE3B3B"></div>
					</div>
					<div widgetType="Button" id="ToggleLocButton" width="100%" text="Toggle Location" onevent="toggleGeolocation()"></div>

					<div widgetType="HorizontalLayout" id="CompassLayout" width="100%">
						<div widgetType="Label" id="CompassLabel" width="100%" text="Compass Heading:" fontSize="14" fontColor="0xEE3B3B"></div>
					</div>
					<div widgetType="Button" id="ToggleCompassButton" width="100%" text="Toggle Compass" onevent="toggleCompass()"></div>
				</div>
			</div>
			<div widgetType="Screen" id="ThirdScreen" title="Multimedia" icon_iOS="img/TabIconCamera.png">
				<div widgetType="VerticalLayout" id="MultimediaLayout" width="100%">
					<div widgetType="HorizontalLayout" id="CaptureVideoLayout" width="100%"  height="-2" >
						<div widgetType="Button" id="CaptureVideoButton" width="100%"  height="-2" text="Record a Video" onevent="captureVideo()"></div>
						<div widgetType="Button" id="ShowVideoButton" width="100%"  height="-2" text="Play Recorded Video" enabled="false"></div>
					</div>
					<div widgetType="HorizontalLayout" id="CaptureImageLayout" width="100%" height="-2">
						<div widgetType="Button" id="TakePicButton" width="100%" height="-2" text="Take a Picture"	onevent="captureImage()"></div>
						 <div widgetType="Button" id="ShowImageButton" width="100%" height="-2" text="Show Captured Image" enabled="false"></div>
					</div>
					<div widgetType="EditBox" id="VideoURLEditBox" width="100%"  height="-2" ></div>
					<div widgetType="Button" id="PlayStreamingButton" width="100%" height="-2" text="Play the Streaming Video"></div>
				</div>
			</div>
			<div widgetType="Screen" id="ForthScreen" title="Map"  icon_android="img/TabIconWebViewAndroid.png" icon_iOS="img/TabIconMap.png">
				<div widgetType="WebView" id="WebView" width="100%" height="100%" url="http://maps.google.com"></div>
			</div>
		</div>
	</div>
</body>
</html>
